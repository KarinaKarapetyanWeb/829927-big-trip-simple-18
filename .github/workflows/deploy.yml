on: 
  push: 
    branches: 
      - master 

name: Project deploy 
jobs: 
  deploy: 
    name: Deploy
    runs-on: ubuntu-latest
    strategy: 
      matrix: 
        node-version: [16.x]
    # steps:
    #   - uses: actions/checkout@v2
    #   - uses: actions/setup-node@v1
    #     with: 
    #       node-version: ${{ matrix.node-version }}
    #   # Setup key
    #   - run: set -eu
    #   - run: mkdir "$HOME/.ssh"
    #   - run: echo "${{ secrets.key }}" > "$HOME/.ssh/key"
    #   - run: chmod 600 "$HOME/.ssh/key"
    #   # Build
    #   - run: npm install
    #   - run: npm run build
      # Deploy
      # - run: cd dist && rsync -e "ssh -i $HOME/.ssh/key -o StrictHostKeyChecking=no" --archive --compress --delete . karinakarapetyanweb@829927-big-trip-simple-18:/var/www/829927-big-trip-simple-18/html/
    steps:
      - name: Checkout üõéÔ∏è
        uses: actions/checkout@v2.3.1
        with:
          persist-credentials: false

      - name: Install üîß
        run: npm install

      - name: Build üë∑
        run: npm run build

      - name: Deploy üöÄ
      - uses: JamesIves/github-pages-deploy-action@3.7.1
        with:
          # –≤ –∑–Ω–∞—á–µ–Ω–∏–µ GITHUB_TOKEN –ø–æ–º–µ—â–∞–µ—Ç—Å—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –≤–∞—à —Å–µ–∫—Ä–µ—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
          # –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –µ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏–µ KEY
          GITHUB_TOKEN: ${{ secrets.key }}
          BRANCH: gh-pages
          FOLDER: public
          CLEAN: true